<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PULS Gel â€“ Kada telo pamti dodir</title>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
<script type="text/javascript">
  (function(){
    // Inicijalizacija ostaje ista
    emailjs.init("WKV419-gz6OQWSgRJ"); // Public Key (User ID)
  })();
</script>
<style>
/* STILOVI OSTALI ISTI KAO PRETHODNO */
body { background-color: #000; color: #fff; font-family: Arial, sans-serif; line-height: 1.6; margin: 0; padding: 0; }
h1 { color: #fff; text-align: center; margin-top: 20px; }
h2 { color: #b22222; margin-top: 40px; }
h3 { color: #ff4c4c; margin-top: 20px; }
p, li { margin: 10px 0; }
ul { margin: 10px 0 20px 20px; }
.puls-card { border: 1px solid #444; padding: 15px; margin: 15px 0; border-radius: 10px; background-color: #111; }
form { display: flex; flex-direction: column; max-width: 500px; margin: 20px auto; padding: 20px; background-color: #111; border-radius: 10px; border: 1px solid #444; }
input, select, textarea, button { margin: 8px 0; padding: 10px; border-radius: 5px; border: 1px solid #444; background-color: #222; color: #fff; font-size: 16px; }
input[readonly] { background-color: #333; cursor: not-allowed; }
button { background-color: #b22222; color: #fff; border: none; cursor: pointer; }
button:hover { background-color: #ff4c4c; }

/* NOVI STILOVI ZA MODAL */
#pregledModal {
    display: none; /* Inicijalno sakriveno */
    position: fixed;
    z-index: 101; /* Iznad svega ostalog */
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0,0,0,0.8); /* Zatamnjenje pozadine */
}
.modal-sadrzaj {
    background-color: #111;
    margin: 15% auto; /* 15% odozgo i centrirano */
    padding: 20px;
    border: 1px solid #b22222;
    width: 90%;
    max-width: 400px;
    border-radius: 10px;
}
.modal-sadrzaj h2 {
    color: #ff4c4c;
    text-align: center;
}
.modal-sadrzaj p {
    color: #ccc;
    margin-bottom: 5px;
}
.modal-sadrzaj strong {
    color: #fff;
    display: inline-block;
    width: 120px; /* Poravnanje radi Äitljivosti */
}
#potvrdiPorudzbinu {
    background-color: #b22222;
    margin-top: 20px;
}
#izmijeniPodatke {
    background-color: #444;
}
#izmijeniPodatke:hover {
    background-color: #666;
}
</style>
</head>
<body>

<h1>ğŸŒ™ PULSGel â€“ Kada telo pamti dodir</h1>
<p>Jedan Puls. Hiljadu naÄina da ga osetiÅ¡.</p>

<h2>ğŸ”¥ 1. Uvod</h2>
<p>PulsGel je prirodna, snaÅ¾na formula koja pomaÅ¾e u aktiviranju telesnog odgovora, pojaÄava osetljivost i cirkulaciju u intimnim zonama. Idealan je za parove i pojedince koji Å¾ele dublju, intenzivniju vezu i doÅ¾ivljaj.</p>
<article class="puls-card">
  <h3>Za muÅ¡karce</h3>
  <p>Brza, snaÅ¾na i postojana vitalnost â€” efekat uporediv sa tabletama, uz pojaÄan uÅ¾itak i dublji, intenzivniji seksualni doÅ¾ivljaj.</p>
</article>

<h2>ğŸ”¥ 2. Za Å¾ene</h2>
<article class="puls-card">
  <h3>Za Å¾ene</h3>
  <p>Vidljivo podrÅ¾ava prirodnu vlaÅ¾nost i punoÄ‡u, budi Å¾elju i oÅ¾ivljava intimne zone.</p>
</article>

<h2>ğŸ”¥ 3. Za oralni sex</h2>
<article class="puls-card">
  <h3>Za oralni sex</h3>
  <p>Prijatan miris i ukus. NeÅ¾an, siguran i potpuno prijatan u kontaktu sa usnama i jezikom.</p>
</article>

<h2>ğŸ”¥ 4. Za analni sex</h2>
<article class="puls-card">
  <h3>Za analni sex</h3>
  <p>OmoguÄ‡ava lakÅ¡u penetraciju, dugotrajan klizak oseÄ‡aj i nadraÅ¾aj koji obuhvata celu zonu uÅ¾itka.</p>
</article>

<h2>ğŸ”¥ 5. Za solo trenutke</h2>
<article class="puls-card">
  <h3>Za solo trenutke</h3>
  <p>SavrÅ¡en saputnik za istraÅ¾ivanje sopstvenih Å¾elja. Kompatibilan sa svim seksualnim igraÄkama â€” za maksimalan, prirodan uÅ¾itak.</p>
</article>

<h2>ğŸ”¥ 6. Novi nivo povezanosti</h2>
<p>Svaka pora tela se oÅ¾ivljava uz Puls. Dok muÅ¡ki organ postaje Ävrst i snaÅ¾an, Å¾enske intimne zone prirodno se Å¡ire i pulsiraju. Toplina se prenosi kroz dodir â€“ partneri postaju jedno telo koje diÅ¡e, kuca i pulsira u istom ritmu.</p>
<p>Svaki sledeÄ‡i dodir izaziva dublji talas prijatne toplote i prokrvljenosti. To nije mehaniÄki efekat â€“ to je hemija tela koja prepoznaje dodir, toplinu i miris koÅ¾e.</p>
<p>Puls ne samo da pojaÄava osetljivost, veÄ‡ stvara most izmeÄ‘u fiziÄke aktivacije i emotivne povezanosti. Ono Å¡to poÄinje kao fiziÄki oseÄ‡aj, pretvara se u dublji, zajedniÄki ritam â€“ jedan Puls koji pripada i njoj i njemu.</p>

<h2>ğŸŒ¿ 7. MoÄ‡ prirode</h2>
<p>U srcu PULS formule nalazi se viÅ¡e od 20 prirodnih i biljnih sastojaka â€“ od ekstrakata gvarane, Ä‘umbira, ginsenga, cvekle i mace, do prirodnih afrodizijaka poput iikarina i ylang-ylanga. Njihovo dejstvo je paÅ¾ljivo balansirano: toplina, cirkulacija, miris i dodir se usklaÄ‘uju tako da telo samo aktivira svoj puni potencijal.</p>
<p>ğŸ’ Sinergijska snaga 22 aktivne supstance â€“ PULS sadrÅ¾i 22 bioaktivne supstance koje zajedno stvaraju trofazno dejstvo: trenutnu stimulaciju, produÅ¾eni vaskularni efekat i dugoroÄno jaÄanje vitalnosti i tonusa tkiva.</p>

<h2>ğŸ’« 8. Efekti i stimulacija</h2>
<p>Penis postaje Ävrst, debeo i spreman za penetraciju. Vagina i usmine postaju prokrvljene, uveÄ‡ane i izuzetno osetljive. Puls je prijatan, neÅ¾an, ukusan i bezbedan â€“ idealan i za oralnu igru.</p>
<p>Senzacije postaju intenzivne i dugotrajne. Vagina postaje vlaÅ¾na, prokrvljena i spremna za penetraciju. Penetracija samo produÅ¾ava ono Å¡to je Puls zapoÄeo. Puls vodi do vrhunca, ali zadrÅ¾ava oseÄ‡aj punine i zadovoljstva.</p>

<h2>ğŸ”¹ 9. DugoroÄni efekat redovne upotrebe</h2>
<ul>
  <li>VeÄ‡i tonus penisa u opuÅ¡tenom stanju</li>
  <li>OdrÅ¾ana kontrola i Ävrstina erekcije</li>
  <li>PoboljÅ¡ana vlaÅ¾nost vagine i tonus usmina i klitorisa</li>
</ul>

<h2>ğŸ’ 10. Za koga je</h2>
<ul>
  <li>MuÅ¡karcima sa erektilnom disfunkcijom ili skraÄ‡enim trajanjem erekcije</li>
  <li>Å½enama sa suvoÄ‡om ili smanjenom osetljivoÅ¡Ä‡u</li>
  <li>Svima koji Å¾ele da probude izgubljenu Å¾elju i uÅ¾itak</li>
  <li>Onima koji Å¾ele stimulaciju i solo i partnerski</li>
</ul>

<h2>ğŸ’ 11. Prednosti formule</h2>
<ul>
  <li>Deluje lokalno na erogene zone i genitalne organe, bez uticaja na ceo organizam</li>
  <li>Potpuno prirodan sastav, bez rizika i nuspojava, i najvaÅ¾nije bez opasnih lekova</li>
  <li>Pogodan za oba pola i sve tipove koÅ¾e</li>
  <li>Brz i dugotrajan efekat</li>
  <li>PoveÄ‡ava cirkulaciju i osetljivost</li>
  <li>Obnavlja prirodnu vlaÅ¾nost i pojaÄava uÅ¾itak</li>
  <li>UgraÄ‘eni penetratori i sonifikatori poslednje generacije, aktivnne sastojake dovode duboko u penis ili vaginu Äime pojaÄavaju dejstvo i ovu formulu Äine jedinstvenom na trÅ¾iÅ¡tu</li>
</ul>

<h2>â¤ï¸ 12. Upotreba</h2>
<p>Nanesite malu koliÄinu (1â€“2 ml / dva stiska pumpice) i lagano utrljajte. Efekat se javlja u roku od nekoliko minuta. Sigurno za kontakt sa sluzokoÅ¾om: penis, vagina, usmine, klitoris, bradavice, usne, jezik, analni otvor. Prijatan miris i ukus â€“ oralno sigurno i ukusno.</p>

<h2>ğŸ’§ 13. Pakovanja i cena</h2>
<ul>
  <li>30 ml â€” 1500 RSD / 12 EUR</li>
  <li>50 ml â€” 2200 RSD / 18 EUR</li>
</ul>

<h2>âš ï¸ 14. Napomena / Bezbednost</h2>
<ul>
  <li>Samo za spoljaÅ¡nju primenu, osim na navedenim erogenim zonama</li>
  <li>ÄŒuvati na suvom i hladnom mestu</li>
  <li>Ne koristiti ako postoji alergija na neki od sastojaka</li>
</ul>

<h2>ğŸ”˜ 15. PorudÅ¾bina</h2>
<form id="forma-porudzbine">
  <input type="text" name="ime" placeholder="Ime" required>
  <input type="text" name="prezime" placeholder="Prezime" required>
  <input type="email" name="email" placeholder="Email" required>
  <input type="tel" name="telefon" placeholder="Telefon">
  <input type="text" name="adresa" placeholder="Adresa">
  <input type="text" name="grad" placeholder="Grad">
  <input type="text" name="postanski_broj" placeholder="PoÅ¡tanski broj">
  
  <label for="pakovanje">Pakovanje:</label>
  <select name="pakovanje" id="pakovanje">
    <option value="30 ml" data-cena-rsd="1500">30 ml (1500 RSD)</option>
    <option value="50 ml" data-cena-rsd="2200">50 ml (2200 RSD)</option>
  </select>
  
  <label for="kolicina">KoliÄina:</label>
  <input type="number" name="kolicina" id="kolicina" value="1" min="1">
  
  <input type="text" name="iznos_rsd" id="iznos_rsd" placeholder="Ukupan Iznos Proizvoda" readonly>
  <input type="text" name="iznos_eur" id="iznos_eur" placeholder="Ukupan Iznos Proizvoda (EUR)" readonly>
  
  <label for="dostava">NaÄin isporuke:</label>
  <select name="dostava" id="dostava">
    <option value="LiÄno preuzimanje">LiÄno preuzimanje (0 RSD)</option>
    <option value="Kurirska sluÅ¾ba" data-cena-dostave="400">Kurirska sluÅ¾ba (400 RSD)</option>
  </select>
  
  <label for="placanje">NaÄin plaÄ‡anja:</label>
  <select name="placanje">
    <option value="PouzeÄ‡em">PouzeÄ‡em</option>
    <option value="RaÄun">RaÄun</option>
  </select>
  
  <textarea name="napomena" placeholder="Napomena"></textarea>
  <button type="submit">PoÅ¡alji porudÅ¾binu</button>
</form>

<div id="pregledModal">
    <div class="modal-sadrzaj">
        <h2>Pregled PorudÅ¾bine</h2>
        <div id="detaljiIsporuke">
            </div>
        <p style="text-align: center; color: #ff4c4c;">Proverite podatke pre konaÄne potvrde!</p>

        <button type="button" id="potvrdiPorudzbinu">Potvrdi PorudÅ¾binu</button>
        
        <button type="button" id="izmijeniPodatke">Izmeni Podatke</button>
    </div>
</div>
        <script type="text/javascript">

const forma = document.getElementById('forma-porudzbine');
const pakovanjeEl = document.getElementById('pakovanje');
const kolicinaEl = document.getElementById('kolicina');
const dostavaEl = document.getElementById('dostava');

const iznosRsdEl = document.getElementById('iznos_rsd');
const iznosEurEl = document.getElementById('iznos_eur');

// Elementi modala
const pregledModal = document.getElementById('pregledModal');
const detaljiIsporuke = document.getElementById('detaljiIsporuke');
const dugmePotvrdi = document.getElementById('potvrdiPorudzbinu');
const dugmeIzmeni = document.getElementById('izmijeniPodatke');

// ÄŒuva podatke iz forme privremeno (Sada sa kljuÄevima za EmailJS)
let globalFormData = {}; 

// VaÅ¡i ID-ovi za EmailJS
const ADMIN_TEMPLATE_ID = 'template_5o6etkn'; 
const KUPAC_TEMPLATE_ID = 'template_u8dh76a'; 
const SERVICE_ID = 'service_rxj533m';      
const BREND_NAZIV = 'PulsGel';
const CENA_EUR_30ML = 12;
const CENA_EUR_50ML = 18;
const CENA_DOSTAVE_RSD = 400; // Fiksna cena kurirske sluÅ¾be

// Funkcija za automatski preraÄun iznosa (Sada ukljuÄuje izraÄun dostave)
function updateIznos() {
  const kolicina = parseInt(kolicinaEl.value) || 1;
  
  // Dohvat cene iz data atributa
  const selectedOption = pakovanjeEl.options[pakovanjeEl.selectedIndex];
  const cenaRsd = parseInt(selectedOption.getAttribute('data-cena-rsd')); 
  
  const medjuzbirRSD = cenaRsd * kolicina;
  let cenaEur = selectedOption.value === "30 ml" ? CENA_EUR_30ML : CENA_EUR_50ML;
  const medjuzbirEUR = cenaEur * kolicina;
  
  iznosRsdEl.value = medjuzbirRSD + " RSD";
  iznosEurEl.value = medjuzbirEUR + " EUR";
}

// Funkcija za generisanje HTML liste proizvoda za EmailJS Å¡ablon
function formatPulsGelForEmail(data) {
    const pakovanje = data.pakovanje;
    const kolicina = data.kolicina;
    const medjuzbir = data.medjuzbir;
    
    // GeneriÅ¡e HTML format koji oÄekuje {{{lista_proizvoda}}} u EmailJS Å¡ablonu
    return `
        <div style="border: 1px solid #ccc; padding: 10px; border-radius: 5px; background: #f9f9f9;">
            <div style="margin-bottom: 10px; padding: 10px; border-bottom: 1px solid #eee;">
                <p style="font-size: 16px; font-weight: bold; color: #121212; margin: 0 0 5px 0;">PULS Gel ${pakovanje}</p>
                <p style="font-size: 14px; margin: 0;">KoliÄina: <strong>${kolicina} kom.</strong></p>
                <p style="font-size: 14px; font-weight: bold; margin: 5px 0 0 0; color: #D4AF37;">Ukupno za stavku: ${medjuzbir}</p>
            </div>
        </div>
    `;
}

pakovanjeEl.addEventListener('change', updateIznos);
kolicinaEl.addEventListener('input', updateIznos);
updateIznos();


// **FUNKCIJA ZA KONAÄŒNO SLANJE (EmailJS sa dvostrukim slanjem)**
function sendMail() {
    
    // OnemoguÄ‡avanje dugmeta za spreÄavanje duplog slanja
    dugmePotvrdi.disabled = true;
    dugmePotvrdi.textContent = 'Å aljem...';

    // 1. SLANJE VAMA (ADMINISTRATORU)
    const slanjeVama = emailjs.send(SERVICE_ID, ADMIN_TEMPLATE_ID, globalFormData);

    // 2. SLANJE KUPCU (POTVRDA)
    const slanjeKupcu = emailjs.send(SERVICE_ID, KUPAC_TEMPLATE_ID, globalFormData);
        
    // ÄŒekamo da se oba slanja zavrÅ¡e
    Promise.all([slanjeVama, slanjeKupcu])
        .then(() => {
            alert("PorudÅ¾bina uspeÅ¡no potvrÄ‘ena! Proverite VaÅ¡ e-mail za potvrdu.");
            forma.reset();
            updateIznos(); 
            pregledModal.style.display = 'none';
        })
        .catch((error) => {
            console.error("GreÅ¡ka pri slanju jedne ili obe poruke:", error);
            alert("DoÅ¡lo je do greÅ¡ke pri slanju porudÅ¾bine. Molimo pokuÅ¡ajte ponovo.");
        })
        .finally(() => {
             // Resetovanje dugmeta
            dugmePotvrdi.disabled = false;
            dugmePotvrdi.textContent = 'Potvrdi PorudÅ¾binu';
            pregledModal.style.display = 'none';
        });
}


// **FUNKCIJA ZA PRIKAZ PREGLEDA** (Prvi Korak: Sakupljanje podataka i prikaz modala)
forma.addEventListener('submit', function(e){
    e.preventDefault(); 
    
    if (!forma.checkValidity()) {
        forma.reportValidity(); 
        return; 
    }

    // --- PRIPREMA PODATAKA ZA EMAILJS (UsklaÄ‘ivanje sa AresNyX i Å ablonima) ---
    const medjuzbirRSD = parseInt(iznosRsdEl.value.replace(' RSD', ''));
    const dostavaTip = this.dostava.value;
    const postarinaRSD = dostavaTip === 'Kurirska sluÅ¾ba' ? CENA_DOSTAVE_RSD : 0;
    const ukupnoRSD = medjuzbirRSD + postarinaRSD;
    
    // Prikupljanje podataka u globalnu varijablu sa ispravnim kljuÄevima
    globalFormData = {
        // Podaci o kupcu (kljuÄevi kao u EmailJS Å¡ablonima)
        ime_kupca: this.ime.value,
        prezime_kupca: this.prezime.value,
        email_kupca: this.email.value,
        poslati_kupcu: this.email.value, // KLJUÄŒNO ZA SLANJE KUPCU
        telefon_kupca: this.telefon.value,
        
        // Adresa (objedinjena za EmailJS)
        adresa_dostave: `${this.adresa.value}, ${this.postanski_broj.value} ${this.grad.value}`,
        
        // Finansije (kljuÄevi kao u EmailJS Å¡ablonima)
        medjuzbir: medjuzbirRSD + ' RSD',
        postarina: postarinaRSD + ' RSD',
        popust: '0 RSD', // Nema popusta u ovoj formi
        ukupno: ukupnoRSD + ' RSD',
        
        // Ostalo
        broj_porudzbine: 'PULS-' + Date.now(), // Generisanje ID-a
        nacin_placanja: this.placanje.value,
        napomena: this.napomena.value || 'Nema napomene',
        brend_naziv: BREND_NAZIV, // DinamiÄki naziv brenda
        
        // KLJUÄŒNO: HTML lista proizvoda za {{{lista_proizvoda}}}
        lista_proizvoda: formatPulsGelForEmail({
            pakovanje: this.pakovanje.value,
            kolicina: this.kolicina.value,
            medjuzbir: medjuzbirRSD + ' RSD'
        }),

        // PomoÄ‡na polja (ako se koriste za prikaz u emailu)
        dostava: dostavaTip
    };

    // --- GENERISANJE HTML prikaza u modalu (Sada koristi nove kljuÄeve) ---
    detaljiIsporuke.innerHTML = `
        <p><strong>Ime i Prezime:</strong> ${globalFormData.ime_kupca} ${globalFormData.prezime_kupca}</p>
        <p><strong>Email:</strong> ${globalFormData.email_kupca}</p>
        <p><strong>Telefon:</strong> ${globalFormData.telefon_kupca || 'Nije navedeno'}</p>
        <hr style="border-color:#444;">
        <p><strong>Adresa:</strong> ${globalFormData.adresa_dostave}</p>
        <p><strong>Isporuka:</strong> ${globalFormData.dostava}</p>
        <p><strong>PlaÄ‡anje:</strong> ${globalFormData.nacin_placanja}</p>
        <hr style="border-color:#444;">
        <p><strong>Proizvod:</strong> PULS Gel ${this.pakovanje.value}</p>
        <p><strong>KoliÄina:</strong> ${this.kolicina.value}</p>
        <p><strong>Iznos Proizvoda:</strong> ${globalFormData.medjuzbir}</p>
        <p><strong>PoÅ¡tarina:</strong> ${globalFormData.postarina}</p>
        <p><strong>Ukupno za PlaÄ‡anje:</strong> <span style="color: #b22222; font-weight: bold;">${globalFormData.ukupno}</span></p>
        <hr style="border-color:#444;">
        <p><strong>Napomena:</strong> ${globalFormData.napomena}</p>
    `;

    // Prikaz Modala
    pregledModal.style.display = 'block';
});

// **FUNKCIJA ZA POTVRDU** (Drugi i konaÄni Korak)
dugmePotvrdi.addEventListener('click', sendMail);

// **FUNKCIJA ZA IZMENU (Zatvaranje Modala)**
dugmeIzmeni.addEventListener('click', function() {
    pregledModal.style.display = 'none';
});
</script>
</body>
</html>
